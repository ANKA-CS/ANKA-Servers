<?xml version="1.0" encoding="UTF-8"?>


<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="server.xsd">

	<server name="Alarms">

		<substitutions><status_alarm_desc>Device status indicates errors or inconsistencies - check device panel!</status_alarm_desc></substitutions>
	
		<management>
			<name>A:${host}:${server}</name>
		</management>

<!-- 
 !
 ! Alarms which extend PV namespace with additional :Alarm PV, which converts ErrorSum
 ! to context managed alarm source.
 !
 ! -->		
		
		<group name="SR PS Main" path="A:SR:PS:">
		<!-- 
		 !
		 !	Storage Ring Main PS Diff Check
		 !
		 ! -->
		 	<group name="ps_template" template="true">
				<!-- record>
					<name>M${ps}-01:DiffCheck</name>
					<alarmConf>
						<path>Storage Ring,PS Diff Check</path>
						<description>PS setpoint/readback mismatch</description>
						<latching>true</latching>
						<enabled>false</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR:PSStatus:M${ps}-01:Status</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record-->
				<record>
					<name>M${ps}-01:Current:Diff</name>
					<alarmConf>
						<path>Storage Ring,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch more then ${val}+${prec}A for duration more than ${tw}ms</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
						<device>${path}M${ps}-01</device>
						<time_window>${tw}</time_window>
						<value_window>${val}</value_window>
						<precision>${prec}</precision>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>M${ps}:Status:Alarm</name>
					<alarmConf>
						<path>Storage Ring,Magnets,PS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>ACS:P${acs}_S.01:status</links></input>
						 <maskOn>0b00000${mask}</maskOn>
						<maskOff>0b000000000010</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>
		 	
		 	<group><substitutions><ps>B</ps><acs>BEND</acs><mask>1101101</mask><tw>40000</tw><val>1</val><prec>0.5</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q1</ps><acs>Q1</acs><mask>1101101</mask><tw>40000</tw><val>35</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q2</ps><acs>Q2</acs><mask>1101101</mask><tw>40000</tw><val>15</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q3</ps><acs>Q3</acs><mask>1101101</mask><tw>40000</tw><val>80</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q4</ps><acs>Q4</acs><mask>1101101</mask><tw>40000</tw><val>5</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q5</ps><acs>Q5</acs><mask>1101101</mask><tw>40000</tw><val>45</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>SH</ps><acs>SH</acs><mask>1101101</mask><tw>40000</tw><val>5</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>SV</ps><acs>SV</acs><mask>1101101</mask><tw>40000</tw><val>10</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		
		</group>
		
		<group name="SR Corr" path="A:SR-">
		
		 	<group name="psc_template" template="true">
				<!-- record>
					<name>S${sec}:PS:MC${hv}-${ps}:DiffCheck</name>
					<alarmConf>
						<path>Storage Ring,PS Diff Check</path>
						<description>PS setpoint/readback mismatch</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-S${sec}:PSStatus:MC${hv}-${ps}:Status</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record-->
				<record>
					<name>S${sec}:PS:MC${hv}-${ps}:Current:Diff</name>
					<alarmConf>
						<path>Storage Ring,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch more then ${val}+${prec}</description><latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
						<device>${path}S${sec}:PS:MC${hv}-${ps}</device>
						<time_window>${tw}</time_window>
						<value_window>${val}</value_window>
						<precision>${prec}</precision>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>S${sec}:PS:MC${hv}-${ps}:Status:Alarm</name>
					<alarmConf>
						<path>Storage Ring,Magnets,PS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>ACS:PC${hv}_S${sec}.${ps}:status</links></input>
						 <maskOn>0b000000${mask}</maskOn>
						<maskOff>0b000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>
		
			<group><substitutions><sec>1</sec><hv>H</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>H</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>H</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>H</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>H</hv><ps>06</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>H</hv><ps>07</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>H</hv><ps>08</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>V</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>V</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>V</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>1</sec><hv>V</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>

			<group><substitutions><sec>2</sec><hv>H</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>H</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>H</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>H</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>H</hv><ps>06</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>H</hv><ps>07</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>H</hv><ps>08</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>V</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>V</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>V</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>2</sec><hv>V</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>

			<group><substitutions><sec>3</sec><hv>H</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>H</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>H</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>H</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>H</hv><ps>06</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>H</hv><ps>07</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>H</hv><ps>08</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>V</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>V</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>V</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>3</sec><hv>V</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>

			<group><substitutions><sec>4</sec><hv>H</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>H</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>H</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>H</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>H</hv><ps>06</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>H</hv><ps>07</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>H</hv><ps>08</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><mask>011111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>V</hv><ps>01</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>V</hv><ps>02</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>V</hv><ps>03</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
			<group><substitutions><sec>4</sec><hv>V</hv><ps>04</ps><val>0.1</val><prec>0.01</prec><tw>20000</tw><mask>111111</mask></substitutions><insert>psc_template</insert></group>
		</group>
		
		<group name="SR Beam Logger" path="A:SR:BeamLogger:01:">
			<record>
				<name>Status:Error:EnergyInvalid</name>
				<type>DBR_ENUM</type>
				<alarmConf>
					<path>Storage Ring,Beam Logger</path>
					<description>Beam Logger is unable to get a valid beam energy.</description>
					<latching>true</latching>
				</alarmConf>
			</record>
			<record>
				<name>Status:Error:CurrentInvalid</name>
				<type>DBR_ENUM</type>
				<alarmConf>
					<path>Storage Ring,Beam Logger</path>
					<description>Beam Logger is unable to get a valid beam current.</description>
					<latching>true</latching>
				</alarmConf>
			</record>
			<record>
				<name>Status:Error:LifetimeInvalid</name>
				<type>DBR_ENUM</type>
				<alarmConf>
					<path>Storage Ring,Beam Logger</path>
					<description>Beam Logger is unable to get a valid beam lifetime.</description>
					<latching>true</latching>
				</alarmConf>
			</record>
			<record>
				<name>Status:Error:Timeout</name>
				<type>DBR_ENUM</type>
				<alarmConf>
					<path>Storage Ring,Beam Logger</path>
					<description>Beam Logger write-thread timeout detected.</description>
					<latching>true</latching>
				</alarmConf>
			</record>
			<record>
				<name>Status:Error:Write</name>
				<type>DBR_ENUM</type>
				<alarmConf>
					<path>Storage Ring,Beam Logger</path>
					<description>Beam Logger could not write to log file..</description>
					<latching>true</latching>
				</alarmConf>
			</record>
		</group>

<!-- 		

        <component name="PSBBA_S.01" type="BeamBasedAlignment" />

        <component name="RFAPL_S2.01" type="RFAmplifierAndPhaseLoops" />
        <component name="RFAPL_S4.01" type="RFAmplifierAndPhaseLoops" />
        <component name="RFSG_D.01" type="RFGenerator" />
		
		-->
	
		<group name="Booster PS" path="A:BO:PS:">

		 	<group name="ps_bo_template" template="true">
				<record>
					<name>M${ps}-${no}:Current:Diff</name>
					<alarmConf>
						<path>Booster,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch more then ${val}+${prec}A for duration more than ${tw}ms</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
						<device>${path}${ps}-${no}</device>
						<time_window>${tw}</time_window>
						<value_window>${val}</value_window>
						<precision>${prec}</precision>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>M${ps}:Status:Alarm</name>
					<alarmConf>
						<path>Booster,Magnets,PS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>ACS:P${acs}_S.01:status</links></input>
						 <maskOn>0b00000${mask}</maskOn>
						<maskOff>0b000000000010</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>

		 	<!-- <group><substitutions><ps>B</ps><acs>BEND</acs><mask>1101101</mask><tw>40000</tw><val>1</val><prec>0.5</prec></substitutions><insert>ps_bo_template</insert></group> -->
			<record>
				<name>MB-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
                    <enabled>false</enabled>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MB-01:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MB-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PBEND_B.01:status</links></input>
					 <maskOn>0b000010111101</maskOn>
					<maskOff>0b000000000010</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MB-01:Status:RampAlarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>Not in ramp mode!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PBEND_B.01:status</links></input>
					 <maskOn>0b000000000000</maskOn>
					<maskOff>0b000100000000</maskOff>
					<alarmSeverity>MINOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<group name="ps_bo_bump_template" template="true">
				<record>
					<name>MBump-${no}:Status:Alarm</name>
					<type>DBR_BYTE</type>
					<alarmConf>
						<path>Booster,Magnets,PS Status Check</path>
						<description>Error on Bumper Power Supply. Device might have to be reset or restarted.</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:BO:PS:MBump-${no}:Status</links></input>
						<maskOff>0b000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>MBump-${no}:Status:AlarmOff</name>
					<alarmConf>
						<path>Booster,Magnets,PS Status Check</path>
						<description>Power Supply is OFF!</description>
						<latching>true</latching>
						<enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:BO:PS:MBump-${no}:Status:On</links></input>
						<maskOn>0b0000000000000000</maskOn>
						<maskOff>0b0000000000000001</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
			</group>
			<group><substitutions><no>01</no></substitutions><insert>ps_bo_bump_template</insert></group>
			<group><substitutions><no>02</no></substitutions><insert>ps_bo_bump_template</insert></group>
			<record>
				<name>MQ-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
                    <enabled>false</enabled>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MQ-01:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MQ-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PQ_B.01:status</links></input>
					 <maskOn>0b000010111101</maskOn>
					<maskOff>0b000000000010</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MQ-01:Status:RampAlarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>Not in ramp mode!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PBEND_B.01:status</links></input>
					 <maskOn>0b000000000000</maskOn>
					<maskOff>0b000100000000</maskOff>
					<alarmSeverity>MINOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCH-01:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_B.01:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-02:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCH-02:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-02:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_B.02:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-03:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCH-03:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-03:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_B.03:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-04:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCH-04:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-04:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_B.04:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCV-01:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_B.01:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-02:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCV-02:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-02:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_B.02:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-03:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCV-03:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-03:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_B.03:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-04:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:PSStatus:MCV-04:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-04:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Booster,Magnets,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_B.04:status</links></input>
					 <maskOn>0b000001101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			
		</group>
		
		<group name="Microtron PS" path="A:MI:PS:">

		<!--
		 !
		 !        Microtron PS Diff Check 
		 !
		 !-->
		 
			<group name="mi_psacs_template" template="true">
	 			<record>
					<name>${ps}:Check</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:MI:PSStatus:${ps}:Status</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:Alarm</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>ACS:${acs}:status</links></input>
						 <maskOn>0b000000101111</maskOn>
						<maskOff>0b000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>
			<group name="mi_psacs1_template" template="true">
	 			<record>
					<name>${ps}:Check</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:MI:PSStatus:${ps}:Status</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:Alarm</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>ACS:${acs}:status</links></input>
						 <maskOn>0b000101111101</maskOn>
						<maskOff>0b000000000010</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>
			<group name="mi_psacs2_template" template="true">
	 			<record>
					<name>${ps}:Check</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:MI:PSStatus:${pstat}:Status</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:Alarm</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>ACS:${acs}:status</links></input>
						 <maskOn>0b000000101111</maskOn>
						<maskOff>0b000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>
			<group><substitutions><ps>MB-01</ps><acs>PBEND_M.01</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MB-02</ps><acs>PBEND_M.02</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MB-03</ps><acs>PBEND_M.03</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MB-04</ps><acs>PBEND_M.04</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MB-06</ps><acs>PBEND_M.06</acs><en>true</en></substitutions><insert>mi_psacs1_template</insert></group>
			<group><substitutions><ps>MB-07</ps><acs>PBEND_M.07</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-01</ps><acs>PCH_M.01</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-03</ps><acs>PCH_M.03</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-04</ps><acs>PCH_M.04</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-05</ps><acs>PCH_M.05</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-06</ps><acs>PCH_M.06</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-07</ps><acs>PCH_M.07</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-08</ps><acs>PCH_M.08</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-09</ps><acs>PCH_M.09</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCH-10</ps><acs>PCH_M.10</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-01</ps><acs>PCV_M.01</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-02</ps><acs>PCV_M.02</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-03</ps><acs>PCV_M.03</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-04</ps><acs>PCV_M.04</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-05</ps><acs>PCV_M.05</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-06</ps><acs>PCV_M.06</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-07</ps><acs>PCV_M.07</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-08</ps><acs>PCV_M.08</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-09</ps><acs>PCV_M.09</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MCV-10</ps><acs>PCV_M.10</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MQV-01</ps><acs>PQV_M.01</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MQV-02</ps><acs>PQV_M.02</acs><en>true</en></substitutions><insert>mi_psacs_template</insert></group>
			<group><substitutions><ps>MSOL-01</ps><pstat>MSol-01</pstat><acs>PSOL_M.01</acs><en>true</en></substitutions><insert>mi_psacs2_template</insert></group>
			<group><substitutions><ps>MSOL-02</ps><pstat>MSol-02</pstat><acs>PSOL_M.02</acs><en>true</en></substitutions><insert>mi_psacs2_template</insert></group>
			<group><substitutions><ps>MSOL-03</ps><pstat>MSol-03</pstat><acs>PSOL_M.03</acs><en>true</en></substitutions><insert>mi_psacs2_template</insert></group>

			<group name="mi_ps_template" template="true">
	 			<record>
					<name>${ps}:Current:Diff</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch more then ${val}+${prec}</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
						<device>${path}${ps}</device>
						<time_window>${tw}</time_window>
						<value_window>${val}</value_window>
						<precision>${prec}</precision>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:AlarmOff</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Status Check</path>
						<description>PS is OFF!</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>${path}${ps}:Status</links></input>
						<!--      |16 |12 |8  |4  |0       -->
						 <maskOn>0b0000000000000000</maskOn>
						<maskOff>0b0010000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:ErrorSum</name>
					<alarmConf>
						<path>Microtron,Magnets,PS Status Check</path>
						<description>ErrorSum for status and interlock is in alarm!</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
				</record>
		 	</group>
			<group><substitutions><ps>MB-05</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>mi_ps_template</insert></group>
			<group><substitutions><ps>MB-08</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>mi_ps_template</insert></group>
			<group><substitutions><ps>MB-10</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>false</en></substitutions><insert>mi_ps_template</insert></group>
			<group><substitutions><ps>MB-11</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>mi_ps_template</insert></group>
			<group><substitutions><ps>MB-11A</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>mi_ps_template</insert></group>
			<group><substitutions><ps>MB-11B</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>mi_ps_template</insert></group>
			
		 </group>

		<group name="Klystron Focus PS" path="A:">
		  <group name="kly_value_template" template="true">
		    <record>
		      <name>${ps}:Current:Setpoint:Get:Alarm</name>
		      <type>DBR_BYTE</type>
		      <alarmConf>
			<path>Storage Ring,RF,Klystron,PS Value Check</path>
			<description>${desc}</description>
			<latching>true</latching>
		      </alarmConf>
		      <processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
			<input><links>${path}${ps}:Current:Setpoint:Get</links></input>
			<precision>0.01</precision>
			<default>
			  <severity>NO_ALARM</severity>
			  <status>NO_ALARM</status>
			</default>
			<lowerAlarm>
			  <limit>${la}</limit>
			  <severity>MAJOR_ALARM</severity>
			  <status>LOLO_ALARM</status>
			</lowerAlarm>
			<lowerWarning>
			  <limit>${lw}</limit>
			  <severity>MINOR_ALARM</severity>
			  <status>LOW_ALARM</status>
			</lowerWarning>
			<upperWarning>
			  <limit>${uw}</limit>
			  <severity>MINOR_ALARM</severity>
			  <status>HIGH_ALARM</status>
			</upperWarning>
			<upperAlarm>
			  <limit>${ua}</limit>
			  <severity>MAJOR_ALARM</severity>
			  <status>HIHI_ALARM</status>
			</upperAlarm>
			<gate><link>A:SR:OperationStatus:01:Mode</link><mask>${opmode}</mask></gate>
		      </processor>
		    </record>
		  </group>
		  <group><substitutions><ps>SR-S2:PS:KlyMain</ps><lw>9.1</lw><uw>9.4</uw><la>9.04</la><ua>10.13</ua><desc>Klystron Main Focus Coil Current Error</desc><opmode>0b001111</opmode></substitutions><insert>kly_value_template</insert></group>
		  <group><substitutions><ps>SR-S2:PS:KlyOut</ps><lw>9.5</lw><uw>9.8</uw><la>9.04</la><ua>10.13</ua><desc>Klystron Output Focus Coil Current Error</desc><opmode>0b001111</opmode></substitutions><insert>kly_value_template</insert></group>
		  <group><substitutions><ps>SR-S4:PS:KlyMain</ps><lw>9.1</lw><uw>9.4</uw><la>9.04</la><ua>10.13</ua><desc>Klystron Main Focus Coil Current Error</desc><opmode>0b001111</opmode></substitutions><insert>kly_value_template</insert></group>
		  <group><substitutions><ps>SR-S4:PS:KlyOut</ps><lw>9.5</lw><uw>9.8</uw><la>9.04</la><ua>10.13</ua><desc>Klystron Output Focus Coil Current Error</desc><opmode>0b001111</opmode></substitutions><insert>kly_value_template</insert></group>

		  <group name="kly_ps_template" template="true">
	 	    <record>
		      <name>${ps}:Current:Diff</name>
		      <alarmConf>
			<path>Storage Ring,RF,Klystron,PS Diff Check</path>
			<description>PS setpoint/readback mismatch more then ${val}+${prec}</description>
			<latching>true</latching>
			<enabled>${en}</enabled>
		      </alarmConf>
		      <processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
			<device>${path}${ps}</device>
			<time_window>${tw}</time_window>
			<value_window>${val}</value_window>
			<precision>${prec}</precision>
			<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
		      </processor>
		    </record>
		    <record>
		      <name>${ps}:Status:AlarmOff</name>
		      <alarmConf>
			<path>Storage Ring,RF,Klystron,PS Status Check</path>
			<description>PS is OFF!</description>
			<latching>true</latching>
			<enabled>${en}</enabled>
		      </alarmConf>
		      <processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
			<input><links>${path}${ps}:Status</links></input>
			<!--      |16 |12 |8  |4  |0       -->
			<maskOn>0b0000000000000000</maskOn>
			<maskOff>0b0010000000000000</maskOff>
			<alarmSeverity>MAJOR_ALARM</alarmSeverity>
			<alarmStatus>STATE_ALARM</alarmStatus>
			<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
		      </processor>
		    </record>
		    <record>
		      <name>${ps}:Status:ErrorSum:Alarm</name>
		      <alarmConf>
			<path>Storage Ring,RF,Klystron,PS Status Check</path>
			<description>ErrorSum for status and interlock is in alarm!</description>
			<latching>true</latching>
			<enabled>${en}</enabled>
		      </alarmConf>
		      <processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
			<input><links>${path}${ps}:Status:ErrorSum</links></input>
			<maskOn>0b1</maskOn>
			<maskOff>0b0</maskOff>
			<alarmSeverity>MAJOR_ALARM</alarmSeverity>
			<alarmStatus>STATE_ALARM</alarmStatus>
			<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
		      </processor>
		    </record>
		  </group>
		  <group><substitutions><ps>SR-S2:PS:KlyMain</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>kly_ps_template</insert></group>
		  <group><substitutions><ps>SR-S2:PS:KlyOut</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>kly_ps_template</insert></group>
		  <group><substitutions><ps>SR-S4:PS:KlyMain</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>kly_ps_template</insert></group>
		  <group><substitutions><ps>SR-S4:PS:KlyOut</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw><en>true</en></substitutions><insert>kly_ps_template</insert></group>
		</group>
	
		<group name="Injection Line PS" path="A:IL:PS:">

		<!--
		 !
		 !        Injection Line PS Diff Check 
		 !
		 !-->

			<group name="il_ps_template" template="true">
				<record>
					<name>${ps}:Current:Diff</name>
					<alarmConf>
						<path>Transfer,Injection,PS Diff Check</path>
						<description>PS setpoint/readback mismatch more then ${val}+${prec}</description><latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
						<device>${path}${ps}</device>
						<time_window>${tw}</time_window>
						<value_window>${val}</value_window>
						<precision>${prec}</precision>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:AlarmOff</name>
					<alarmConf>
						<path>Transfer,Injection,PS Status Check</path>
						<description>PS is OFF!</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>${path}${ps}:Status</links></input>
						<!--      |16 |12 |8  |4  |0       -->
						 <maskOn>0b0000000000000000</maskOn>
						<maskOff>0b0010000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:ErrorSum</name>
					<alarmConf>
						<path>Transfer,Injection,PS Status Check</path>
						<description>ErrorSum for status and interlock is in alarm!</description>
						<latching>true</latching>
					</alarmConf>
				</record>
		 	</group>
		
			<group><substitutions><ps>MB-01</ps><val>0.15</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>il_ps_template</insert></group>
	
 			<record>
				<name>MCH-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCH-01:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_I.01:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MCH-02:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCH-02:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-02:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_I.02:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MCH-03:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCH-03:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-03:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_I.03:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MCH-04:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCH-04:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCH-04:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_I.04:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MCV-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCV-01:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_I.01:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MCV-02:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCV-02:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-02:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_I.02:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MCV-03:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCV-03:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-03:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_I.03:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MCV-04:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MCV-04:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MCV-04:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCV_I.04:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MQ-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MQ-01:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MQ-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PQ_I.01:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MQ-02:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MQ-02:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MQ-02:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PQ_I.02:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MQ-03:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MQ-03:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MQ-03:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PQ_I.03:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MQ-04:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MQ-04:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MQ-04:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
<!-- 					<input><links>ACS:PQ_I.04:status</links></input> -->
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>MQ-05:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:IL:PSStatus:MQ-05:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>MQ-05:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Transfer,Injection,PS Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PQ_I.05:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>

		</group>
		
		<group name="Extraction Line PS" path="A:EL:PS:">

		<!--
		 !
		 !        Extraction Line PS Diff Check 
		 !
		 !-->


			<group name="el_psacs_template" template="true">
	 			<record>
					<name>${ps}:Check</name>
					<alarmConf>
						<path>Transfer,Extraction,PS Diff Check</path>
						<description>PS setpoint/readback mismatch</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:EL:PSStatus:${ps}:Status</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:Alarm</name>
					<alarmConf>
						<path>Transfer,Extraction,PS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>ACS:${acs}:status</links></input>
						 <maskOn>0b000000101111</maskOn>
						<maskOff>0b000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>
			<group><substitutions><ps>MCH-01</ps><acs>PCH_E.01</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCH-02</ps><acs>PCH_E.02</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCH-03</ps><acs>PCH_E.03</acs><en>false</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCH-04</ps><acs>PCH_E.04</acs><en>false</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCH-05</ps><acs>PCH_E.05</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCH-06</ps><acs>PCH_E.06</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCV-01</ps><acs>PCV_E.01</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCV-02</ps><acs>PCV_E.02</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCV-03</ps><acs>PCV_E.03</acs><en>false</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCV-04</ps><acs>PCV_E.04</acs><en>false</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCV-05</ps><acs>PCV_E.05</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>
			<group><substitutions><ps>MCV-06</ps><acs>PCV_E.06</acs><en>true</en></substitutions><insert>el_psacs_template</insert></group>

			<group name="el_ps_template" template="true">
	 			<record>
					<name>${ps}:Current:Diff</name>
					<alarmConf>
						<path>Transfer,Extraction,PS Diff Check</path>
						<description>PS setpoint/readback mismatch more then ${val}+${prec}</description><latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
						<device>${path}${ps}</device>
						<time_window>${tw}</time_window>
						<value_window>${val}</value_window>
						<precision>${prec}</precision>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:AlarmOff</name>
					<alarmConf>
						<path>Transfer,Extraction,PS Status Check</path>
						<description>PS is OFF!</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>${path}${ps}:Status</links></input>
						<!--      |16 |12 |8  |4  |0       -->
						 <maskOn>0b0000000000000000</maskOn>
						<maskOff>0b0010000000000000</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${ps}:Status:ErrorSum</name>
					<alarmConf>
						<path>Transfer,Extraction,PS Status Check</path>
						<description>ErrorSum for status and interlock is in alarm!</description>
						<latching>true</latching>
					</alarmConf>
				</record>
		 	</group>
			<group><substitutions><ps>MB-01</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MB-02</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MB-01A</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MB-01B</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MB-02A</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MB-02B</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-01</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-02</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-03</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-04</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-05</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-06</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-07</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-08</ps><val>0.15</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>
			<group><substitutions><ps>MQ-09</ps><val>0.1</val><prec>0.01</prec><tw>10000</tw></substitutions><insert>el_ps_template</insert></group>

		</group>
		
		
		<group name="Insertion PS" path="A:ID">
			<record>
				<name>-S1:PS:MCH-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
					<enabled>false</enabled>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:EL:PSStatus:MCV-03:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>-S1:PS:MCH-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching><enabled>true</enabled>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_ID-S1.01:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
 			<record>
				<name>-S4:PS:MCH-01:Check</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,PS Diff Check</path>
					<description>PS setpoint/readback mismatch</description><latching>true</latching>
					<enabled>false</enabled>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:EL:PSStatus:MCV-04:Status</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>-S4:PS:MCH-01:Status:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>${status_alarm_desc}</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>ACS:PCH_ID-S4.01:status</links></input>
					 <maskOn>0b000000101111</maskOn>
					<maskOff>0b000000000000</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>		
		</group>
	
	
		<group name="SR BPM" path="A:">

			<group name="bpm_template" template="true">
	 			<record>
					<name>:CK:MC_LOCK:Al</name>
					<alarmConf>
						<path>Storage Ring,BPM Check,A:SR-${sector}:BPM:${index}</path>
						<description>Machine PLL clock not locked!</description>
						<latching>true</latching>
	                    <enabled>false</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-${sector}:BPM:${index}:CK:MC_LOCK</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
	 			<record>
					<name>:SE:RAMFS:Al</name>
					<alarmConf>
						<path>Storage Ring,BPM Check,A:SR-${sector}:BPM:${index}</path>
						<description>Temp files usage!</description><latching>true</latching>
	                    <enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-${sector}:BPM:${index}:SE:RAMFS</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b111111</mask></gate>
					</processor>
				</record>
	 			<!-- record>
					<name>:CK:MC_SYNC:Al</name>
					<alarmConf> 
						<path>Storage Ring,BPM Check,A:SR-${sector}:BPM:${index}</path>
						<description>Machine clock not synchronized!</description><latching>true</latching>
	                    <enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-${sector}:BPM:${index}:CK:MC_SYNC</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record-->
	 			<record>
					<name>:SE:VOLT1:Al</name>
					<alarmConf>
						<path>Storage Ring,BPM Check,A:SR-${sector}:BPM:${index}</path>
						<description>Internal voltage levels out of limits!</description><latching>true</latching>
	                    <enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-${sector}:BPM:${index}:SE:VOLT1</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
	 			<record>
					<name>:SE:VOLT2:Al</name>
					<alarmConf>
						<path>Storage Ring,BPM Check,A:SR-${sector}:BPM:${index}</path>
						<description>Internal voltage levels out of limits!</description><latching>true</latching>
	                    <enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-${sector}:BPM:${index}:SE:VOLT2</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
	 			<record>
					<name>:SE:VOLT3:Al</name>
					<alarmConf>
						<path>Storage Ring,BPM Check,A:SR-${sector}:BPM:${index}</path>
						<description>Internal voltage levels out of limits!</description><latching>true</latching>
	                    <enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-${sector}:BPM:${index}:SE:VOLT3</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
	 			<record>
					<name>:SE:VOLT4:Al</name>
					<alarmConf>
						<path>Storage Ring,BPM Check,A:SR-${sector}:BPM:${index}</path>
						<description>Internal voltage levels out of limits!</description><latching>true</latching>
	                    <enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:SR-${sector}:BPM:${index}:SE:VOLT4</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
			</group>
			
			<group name="SR S1 BPM 01" path="SR-S1:BPM:01"><substitutions><sector>S1</sector><index>01</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 02" path="SR-S1:BPM:02"><substitutions><sector>S1</sector><index>02</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 03" path="SR-S1:BPM:03"><substitutions><sector>S1</sector><index>03</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 04" path="SR-S1:BPM:04"><substitutions><sector>S1</sector><index>04</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 05" path="SR-S1:BPM:05"><substitutions><sector>S1</sector><index>05</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 06" path="SR-S1:BPM:06"><substitutions><sector>S1</sector><index>06</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 07" path="SR-S1:BPM:07"><substitutions><sector>S1</sector><index>07</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 08" path="SR-S1:BPM:08"><substitutions><sector>S1</sector><index>08</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 09" path="SR-S1:BPM:09"><substitutions><sector>S1</sector><index>09</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S1 BPM 10" path="SR-S1:BPM:10"><substitutions><sector>S1</sector><index>10</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 01" path="SR-S2:BPM:01"><substitutions><sector>S2</sector><index>01</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 02" path="SR-S2:BPM:02"><substitutions><sector>S2</sector><index>02</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 03" path="SR-S2:BPM:03"><substitutions><sector>S2</sector><index>03</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 04" path="SR-S2:BPM:04"><substitutions><sector>S2</sector><index>04</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 05" path="SR-S2:BPM:05"><substitutions><sector>S2</sector><index>05</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 06" path="SR-S2:BPM:06"><substitutions><sector>S2</sector><index>06</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 07" path="SR-S2:BPM:07"><substitutions><sector>S2</sector><index>07</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 08" path="SR-S2:BPM:08"><substitutions><sector>S2</sector><index>08</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 09" path="SR-S2:BPM:09"><substitutions><sector>S2</sector><index>09</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S2 BPM 10" path="SR-S2:BPM:10"><substitutions><sector>S2</sector><index>10</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 01" path="SR-S3:BPM:01"><substitutions><sector>S3</sector><index>01</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 02" path="SR-S3:BPM:02"><substitutions><sector>S3</sector><index>02</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 03" path="SR-S3:BPM:03"><substitutions><sector>S3</sector><index>03</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 04" path="SR-S3:BPM:04"><substitutions><sector>S3</sector><index>04</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 05" path="SR-S3:BPM:05"><substitutions><sector>S3</sector><index>05</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 06" path="SR-S3:BPM:06"><substitutions><sector>S3</sector><index>06</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 07" path="SR-S3:BPM:07"><substitutions><sector>S3</sector><index>07</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 08" path="SR-S3:BPM:08"><substitutions><sector>S3</sector><index>08</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S3 BPM 09" path="SR-S3:BPM:09"><substitutions><sector>S3</sector><index>09</index></substitutions><insert>bpm_template</insert></group>
			<!-- group name="SR S3 BPM 10" path="SR-S3:BPM:10"><substitutions><sector>S3</sector><index>10</index></substitutions><insert>bpm_template</insert></group-->
			<group name="SR S4 BPM 01" path="SR-S4:BPM:01"><substitutions><sector>S4</sector><index>01</index></substitutions><insert>bpm_template</insert></group>
			<!-- group name="SR S4 BPM 02" path="SR-S4:BPM:02"><substitutions><sector>S4</sector><index>02</index></substitutions><insert>bpm_template</insert></group-->
			<group name="SR S4 BPM 03" path="SR-S4:BPM:03"><substitutions><sector>S4</sector><index>03</index></substitutions><insert>bpm_template</insert></group>
			<!-- group name="SR S4 BPM 04" path="SR-S4:BPM:04"><substitutions><sector>S4</sector><index>04</index></substitutions><insert>bpm_template</insert></group-->
			<group name="SR S4 BPM 05" path="SR-S4:BPM:05"><substitutions><sector>S4</sector><index>05</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S4 BPM 06" path="SR-S4:BPM:06"><substitutions><sector>S4</sector><index>06</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S4 BPM 07" path="SR-S4:BPM:07"><substitutions><sector>S4</sector><index>07</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S4 BPM 08" path="SR-S4:BPM:08"><substitutions><sector>S4</sector><index>08</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S4 BPM 09" path="SR-S4:BPM:09"><substitutions><sector>S4</sector><index>09</index></substitutions><insert>bpm_template</insert></group>
			<group name="SR S4 BPM 10" path="SR-S4:BPM:10"><substitutions><sector>S4</sector><index>10</index></substitutions><insert>bpm_template</insert></group>

		</group>


		<group name="VacValve" path="A:">
		  <group name="valve_status" template="true">
		    <record>
		      <name>${section}:VacValve:${valve}:Readback:Alarm</name>
		      <alarmConf>
			<path>${sec_path},Vacuum,Valve Status</path>
			<description>${status_alarm_desc}</description>
			<latching>true</latching>
		      </alarmConf>
		      <processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
			<input><links>A:${section}:VacValve:${valve}:Readback</links></input>
			<maskOn>0b0</maskOn>
			<maskOff>0b1</maskOff>
			<alarmSeverity>MAJOR_ALARM</alarmSeverity>
			<alarmStatus>STATE_ALARM</alarmStatus>
			<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
		      </processor>
		    </record>
		  </group>
		  <group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><valve>01</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><valve>02</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><valve>03</valve></substitutions><insert>valve_status</insert></group>

		  <group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><valve>01</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><valve>02</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><valve>03</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><valve>04</valve></substitutions><insert>valve_status</insert></group>

		  <group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><valve>01</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><valve>02</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><valve>03</valve></substitutions><insert>valve_status</insert></group>

		  <group><substitutions><section>SR-S4</section><sec_path>Storage Ring</sec_path><valve>01</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S4</section><sec_path>Storage Ring</sec_path><valve>02</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S4</section><sec_path>Storage Ring</sec_path><valve>03</valve></substitutions><insert>valve_status</insert></group>
		  <group><substitutions><section>SR-S4</section><sec_path>Storage Ring</sec_path><valve>04</valve></substitutions><insert>valve_status</insert></group>
		</group>		
		
		<group name="IonPump" path="A:">
			<group name="vip_errorsum" template="true">
				<record>
					<name>${section}:VIPPS:${vip}:Status:ErrorSum:Alarm</name>
					<alarmConf>
						<path>${sec_path},Vacuum,VIPPS Status Check</path>
						<description>${status_alarm_desc}</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:${section}:VIPPS:${vip}:Status:ErrorSum</links></input>
						 <maskOn>0b1</maskOn>
						<maskOff>0b0</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
			</group>
			<group name="vip_ch_on" template="true">
				<record>
					<name>${section}:VIPPS:${vip}:Status${vip_ch}:On:Alarm</name>
					<alarmConf>
						<path>${sec_path},Vacuum,VIPPS Status Check</path>
						<description>Ion HV Pump channel ${vip_ch} not On!</description>
						<latching>true</latching><enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:${section}:VIPPS:01:HVOnOff${vip_ch}_Get</links></input>
						 <maskOn>0b0</maskOn>
						<maskOff>0b1</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
			</group>
			<group name="vip_ch_error" template="true">
				<record>
					<name>${section}:VIPPS:${vip}:Status${vip_ch}:Error:Alarm</name>
					<alarmConf>
						<path>${sec_path},Vacuum,VIPPS Status Check</path>
						<description>Ion HV Punp channel ${vip_ch} has error!</description>
						<latching>true</latching><enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:${section}:VIPPS:${vip}:ErrC${vip_ch}_Status</links></input>
						 <maskOn>0b0</maskOn>
						<maskOff>0b1</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
			</group>
			<group><substitutions><section>MI</section><sec_path>Microtron</sec_path><vip>01</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>MI</section><sec_path>Microtron</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>MI</section><sec_path>Microtron</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>MI</section><sec_path>Microtron</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>MI</section><sec_path>Microtron</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>MI</section><sec_path>Microtron</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>MI</section><sec_path>Microtron</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>IL</section><sec_path>Transfer\, Injection</sec_path><vip>01</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>IL</section><sec_path>Transfer\, Injection</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>IL</section><sec_path>Transfer\, Injection</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>IL</section><sec_path>Transfer\, Injection</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>IL</section><sec_path>Transfer\, Injection</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>BO</section><sec_path>Booster</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<!-- group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group-->
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip></substitutions><insert>vip_errorsum</insert></group>
			<!-- group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group-->
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S1</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip></substitutions><insert>vip_errorsum</insert></group>
			<!-- group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group-->
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<!-- group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group-->

			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S2</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>01</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>02</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>03</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<!-- group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group-->
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<!-- group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>04</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group-->
			
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>05</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>06</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group>

			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<!-- group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>07</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group-->

			<!-- group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip></substitutions><insert>vip_errorsum</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>1</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>2</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>3</vip_ch></substitutions><insert>vip_ch_error</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_on</insert></group>
			<group><substitutions><section>SR-S3</section><sec_path>Storage Ring</sec_path><vip>08</vip><vip_ch>4</vip_ch></substitutions><insert>vip_ch_error</insert></group-->
		</group>

		
		<group name="Insertion Devices" path="A:ID-">
			<!-- <record> -->
			<!-- 	<name>S1:SCU15:01:Status:ErrorSum:Alarm</name> -->
			<!-- 	<type>DBR_BYTE</type> -->
			<!-- 	<alarmConf> -->
			<!-- 		<path>Storage Ring,Status Check</path> -->
			<!-- 		<description>SCU15 status error sum!</description> -->
			<!-- 		<latching>true</latching> -->
			<!-- 	</alarmConf> -->
			<!-- 	<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor"> -->
			<!-- 		<input><links>A:ID-S1:SCU15:01:Status:ErrorSum</links></input> -->
			<!-- 		<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate> -->
			<!-- 	</processor> -->
			<!-- </record> -->
			<!-- <record> -->
			<!-- 	<name>S1:SCU15:01:Interlock:ErrorSum:Alarm</name> -->
			<!-- 	<type>DBR_BYTE</type> -->
			<!-- 	<alarmConf> -->
			<!-- 		<path>Storage Ring,Status Check</path> -->
			<!-- 		<description>SCU15 Interlock error sum!</description> -->
			<!-- 		<latching>true</latching> -->
			<!-- 	</alarmConf> -->
			<!-- 	<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor"> -->
			<!-- 		<input><links>A:ID-S1:SCU15:01:Interlock:ErrorSum</links></input> -->
			<!-- 		<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate> -->
			<!-- 	</processor> -->
			<!-- </record> -->
			<record>
				<name>S3:Wig:01:Status:ErrorSum:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>CAT-ACT Wiggler error sum!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:ID-S3:Wig:01:Status:ErrorSum</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b111111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S3:Wig:01:Status:PS:ErrorSum:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>CAT-ACT Wiggler error sum!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:ID-S3:Wig:01:Status:PS:ErrorSum</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S3:Wig:01:Status:Quench:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>CAT-ACT Wiggler error sum!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:ID-S3:Wig:01:Status:Quench</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b111111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S3:Wig:01:PS1:Status:On:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>CAT-ACT Wiggler not On!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>A:ID-S3:Wig:01:PS1:Status:On</links></input>
					 <maskOn>0b0</maskOn>
					<maskOff>0b1</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S3:Wig:01:PS2:Status:On:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>CAT-ACT Wiggler not On!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>A:ID-S3:Wig:01:PS2:Status:On</links></input>
					 <maskOn>0b0</maskOn>
					<maskOff>0b1</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S3:Wig:01:PS3:Status:On:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>CAT-ACT Wiggler not On!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>A:ID-S3:Wig:01:PS3:Status:On</links></input>
					 <maskOn>0b0</maskOn>
					<maskOff>0b1</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S3:Wig:01:PS4:Status:On:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>CAT-ACT Wiggler not On!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>A:ID-S3:Wig:01:PS4:Status:On</links></input>
					 <maskOn>0b0</maskOn>
					<maskOff>0b1</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S4:Wig:01:Status:ErrorSum:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>NANO 1 Wiggler error sum!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:ID-S4:Wig:01:Status:ErrorSum</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>S4:Wig:02:Status:ErrorSum:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Insertion,Status Check</path>
					<description>NANO 2 Wiggler error sum!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:ID-S4:Wig:02:Status:ErrorSum</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
		</group>
		
		<group name="SignalGenerator" path="A:TI:SignGen:">
			<record>
				<name>SR-01:Frequency:Alarm</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Timing</path>
					<description>TI SR frequency alarms</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>${path}SR-01:Frequency</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>SR-01:Power:Alarm</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Timing</path>
					<description>TI SR power alarms</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>${path}SR-01:Power</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>SR-01:Status:ErrorSum:Alarm</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Timing</path>
					<description>TI SR ErrorSum alarm</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>${path}SR-01:Status:ErrorSum</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
		</group>
		
		<group name="Aux Sensors" >
			<record>
				<name>A:AX:Sensor:01:Temp01</name>
				<type>DBR_DOUBLE</type>
				<alarmConf>
					<path>Storage Ring,RF,HV-Room,Sensors</path>
					<description>Temperature too high</description>
					<latching>true</latching>
					<enabled>true</enabled>
				</alarmConf>
			</record>
			<record>
				<name>A:AX:Sensor:01:Temp02</name>
				<type>DBR_DOUBLE</type>
				<alarmConf>
					<path>Storage Ring,RF,HV-Room,Sensors</path>
					<description>Temperature too high</description>
					<latching>true</latching>
					<enabled>true</enabled>
				</alarmConf>
			</record>
		</group>
		
		<group name="Scraper">
			<record>
				<name>A:SR-S3:Scraper:01:Status:ErrorSum</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Status Check</path>
					<description>ID Scrapper error sum!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:SR-S3:Scraper:01:Outer:Status:ErrorSum</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>A:SR-S3:Scraper:01:Status:AutoMode:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Status Check</path>
					<description>ID Scrapper not in auto mode!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>A:SR-S3:Scraper:01:Outer:AutoMode</links></input>
					 <maskOn>0b0</maskOn>
					<maskOff>0b1</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>A:SR-S3:Scraper:01:Status:FLEnabled:Alarm</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Storage Ring,Status Check</path>
					<description>ID Scrapper feedback loop not enabled!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>A:SR-S3:Scraper:01:Outer:FL:Enabled</links></input>
					 <maskOn>0b0</maskOn>
					<maskOff>0b1</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
		</group>

		<group name="LLRF">
			<group name="LLRF_template" template="true">
				<record>
					<name>A:${sector}:LLRF:01:${pv}:Alarm</name>
					<type>DBR_BYTE</type>
					<alarmConf>
						<path>${acc},RF,LLRF ${sector}</path>
						<description>${desc}</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
						<input><links>A:${sector}:LLRF:01:${pv}</links></input>
						<precision>0.01</precision>
						<default>
							<severity>NO_ALARM</severity>
							<status>NO_ALARM</status>
						</default>
						<lowerAlarm>
							<limit>${la}</limit>
							<severity>MAJOR_ALARM</severity>
							<status>LOLO_ALARM</status>
						</lowerAlarm>
						<lowerWarning>
							<limit>${lw}</limit>
							<severity>MINOR_ALARM</severity>
							<status>LOW_ALARM</status>
						</lowerWarning>
						<upperWarning>
							<limit>${uw}</limit>
							<severity>MINOR_ALARM</severity>
							<status>HIGH_ALARM</status>
						</upperWarning>
						<upperAlarm>
							<limit>${ua}</limit>
							<severity>MAJOR_ALARM</severity>
							<status>HIHI_ALARM</status>
						</upperAlarm>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>${opmode}</mask></gate>
					</processor>
				</record>
			</group>
			
			<!-- Sector 2 -->
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>BRD2:LO_MISSING</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF LO Missing</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>BRD1:INTERLOCK</pv><lw>-1.0</lw><uw>0.5</uw><la>-1.0</la><ua>0.5</ua><desc>LLRF Interlock</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>BRD1:FB:CTRL</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Feedback Loop</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>TUNER:C1:CLOSE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Loop</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C1T1:ENABLE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Motor Cavity 1</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C2T1:ENABLE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Motor Cavity 2</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C1T1:STAT:LLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 Low Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C1T1:STAT:HLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 High Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C2T1:STAT:LLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 2 Low Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C2T1:STAT:HLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 2 High Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<!-- <group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C1T1:STAT:CLAMP</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 Motor Overcurrent</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group> -->
			<!-- <group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>C2T1:STAT:CLAMP</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 2 Motor Overcurrent</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group> -->
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>BRD1:RTNA:ACQ_EN</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Network and Spectrum Analyzer Running</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S2</sector><pv>MemoryUsage</pv><lw>-1.0</lw><uw>80.0</uw><la>-1.0</la><ua>90.0</ua><desc>LLRF memory usage ciritcal</desc><opmode>0b111111</opmode></substitutions><insert>LLRF_template</insert></group>

			<!-- Sector 4 -->
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>BRD2:LO_MISSING</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF LO Missing</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>BRD1:INTERLOCK</pv><lw>-1.0</lw><uw>0.5</uw><la>-1.0</la><ua>0.5</ua><desc>LLRF Interlock</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>BRD1:FB:CTRL</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Feedback Loop</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>TUNER:C1:CLOSE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Loop</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C1T1:ENABLE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Motor Cavity 1</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C2T1:ENABLE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Motor Cavity 2</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C1T1:STAT:LLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 Low Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C1T1:STAT:HLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 High Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C2T1:STAT:LLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 2 Low Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C2T1:STAT:HLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 2 High Limit Switch</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<!-- <group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C1T1:STAT:CLAMP</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 Motor Overcurrent</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group> -->
			<!-- <group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>C2T1:STAT:CLAMP</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 2 Motor Overcurrent</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group> -->
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>BRD1:RTNA:ACQ_EN</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Network and Spectrum Analyzer Running</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR-S4</sector><pv>MemoryUsage</pv><lw>-1.0</lw><uw>80.0</uw><la>-1.0</la><ua>90.0</ua><desc>LLRF memory usage ciritcal</desc><opmode>0b111111</opmode></substitutions><insert>LLRF_template</insert></group>

			<!-- Booster -->
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>BRD2:LO_MISSING</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF LO Missing</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>BRD1:INTERLOCK</pv><lw>-1.0</lw><uw>0.5</uw><la>-1.0</la><ua>0.5</ua><desc>LLRF Interlock</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>BRD1:FB:CTRL</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Feedback Loop</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>BRD1:RAMP:TRIGEN</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF not in Ramp Mode</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>TUNER:C1:CLOSE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Loop</desc><opmode>0b001111</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>C1T1:ENABLE</pv><lw>0.0</lw><uw>2.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Tuner Motor Cavity 1</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>C1T1:STAT:LLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 Low Limit Switch</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>C1T1:STAT:HLS</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 High Limit Switch</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<!-- <group><substitutions><acc>Booster</acc><sector>BO</sector><pv>C1T1:STAT:CLAMP</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>1.0</ua><desc>LLRF Cavity 1 Motor Overcurrent</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group> -->
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>BRD1:RTNA:ACQ_EN</pv><lw>-1.0</lw><uw>1.0</uw><la>-1.0</la><ua>2.0</ua><desc>LLRF Network and Spectrum Analyzer Running</desc><opmode>0b000001</opmode></substitutions><insert>LLRF_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>MemoryUsage</pv><lw>-1.0</lw><uw>80.0</uw><la>-1.0</la><ua>90.0</ua><desc>LLRF memory usage ciritcal</desc><opmode>0b111111</opmode></substitutions><insert>LLRF_template</insert></group>
		</group>
		<group name="RF">
		  <record>
		    <name>A:BO:RF:01:Amplifier:Status:Alarm</name>
		    <type>DBR_BYTE</type>
		    <alarmConf>
		      <path>Booster,RF,Amplifier</path>
		      <description>RF amplifier not running</description>
		      <latching>true</latching>
		    </alarmConf>
		    <processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
		      <input><links>A:BO:RF:01:Amplifier:Status:Mode</links></input>
		      <precision>0.01</precision>
		      <default>
			<severity>NO_ALARM</severity>
			<status>NO_ALARM</status>
		      </default>
		      <lowerAlarm>
			<limit>-1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>LOLO_ALARM</status>
		      </lowerAlarm>
		      <lowerWarning>
			<limit>-1</limit>
			<severity>MINOR_ALARM</severity>
			<status>LOW_ALARM</status>
		      </lowerWarning>
		      <upperWarning>
			<limit>1</limit>
			<severity>MINOR_ALARM</severity>
			<status>HIGH_ALARM</status>
		      </upperWarning>
		      <upperAlarm>
			<limit>1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>HIHI_ALARM</status>
		      </upperAlarm>
		      <gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b000001</mask></gate>
		    </processor>
		  </record>
		  <record>
		    <name>A:BO:RF:01:Amplifier:Fault:Alarm</name>
		    <type>DBR_BYTE</type>
		    <alarmConf>
		      <path>Booster,RF,Amplifier</path>
		      <description>RF amplifier in fault condition</description>
		      <latching>true</latching>
		    </alarmConf>
		    <processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
		      <input><links>A:BO:RF:01:Amplifier:Status:Fault:Bit</links></input>
		      <precision>0.01</precision>
		      <default>
			<severity>NO_ALARM</severity>
			<status>NO_ALARM</status>
		      </default>
		      <lowerAlarm>
			<limit>-1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>LOLO_ALARM</status>
		      </lowerAlarm>
		      <lowerWarning>
			<limit>-1</limit>
			<severity>MINOR_ALARM</severity>
			<status>LOW_ALARM</status>
		      </lowerWarning>
		      <upperWarning>
			<limit>1</limit>
			<severity>MINOR_ALARM</severity>
			<status>HIGH_ALARM</status>
		      </upperWarning>
		      <upperAlarm>
			<limit>1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>HIHI_ALARM</status>
		      </upperAlarm>
		      <gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b000001</mask></gate>
		    </processor>
		  </record>
		  <record>
		    <name>A:BO:PLC:RF-01:Cavity:WaterFlow:Alarm</name>
		    <type>DBR_BYTE</type>
		    <alarmConf>
		      <path>Booster,RF,Cavity</path>
		      <description>Cavity Water Flow missing</description>
		      <latching>true</latching>
		    </alarmConf>
		    <processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
		      <input><links>A:BO:PLC:RF-01:Cavity:WaterFlow</links></input>
		      <precision>0.01</precision>
		      <default>
			<severity>NO_ALARM</severity>
			<status>NO_ALARM</status>
		      </default>
		      <lowerAlarm>
			<limit>0</limit>
			<severity>MAJOR_ALARM</severity>
			<status>LOLO_ALARM</status>
		      </lowerAlarm>
		      <lowerWarning>
			<limit>0</limit>
			<severity>MINOR_ALARM</severity>
			<status>LOW_ALARM</status>
		      </lowerWarning>
		      <upperWarning>
			<limit>2</limit>
			<severity>MINOR_ALARM</severity>
			<status>HIGH_ALARM</status>
		      </upperWarning>
		      <upperAlarm>
			<limit>2</limit>
			<severity>MAJOR_ALARM</severity>
			<status>HIHI_ALARM</status>
		      </upperAlarm>
		      <gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b000001</mask></gate>
		    </processor>
		  </record>
		  <record>
		    <name>A:BO:PLC:RF-01:Cavity:HardLimit:Alarm</name>
		    <type>DBR_BYTE</type>
		    <alarmConf>
		      <path>Booster,RF,Cavity</path>
		      <description>Cavity Tuner Hard Limit</description>
		      <latching>true</latching>
		    </alarmConf>
		    <processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
		      <input><links>A:BO:PLC:RF-01:Cavity:HardLimit</links></input>
		      <precision>0.01</precision>
		      <default>
			<severity>NO_ALARM</severity>
			<status>NO_ALARM</status>
		      </default>
		      <lowerAlarm>
			<limit>-1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>LOLO_ALARM</status>
		      </lowerAlarm>
		      <lowerWarning>
			<limit>-1</limit>
			<severity>MINOR_ALARM</severity>
			<status>LOW_ALARM</status>
		      </lowerWarning>
		      <upperWarning>
			<limit>1</limit>
			<severity>MINOR_ALARM</severity>
			<status>HIGH_ALARM</status>
		      </upperWarning>
		      <upperAlarm>
			<limit>1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>HIHI_ALARM</status>
		      </upperAlarm>
		      <gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b000001</mask></gate>
		    </processor>
		  </record>
		</group>

		<!-- END of LLRF -->

		<group name="BBA">
		  <record>
		    <name>ACS:PSBBA_S.01:status:Alarm</name>
		    <type>DBR_BYTE</type>
		    <alarmConf>
		      <path>Storage Ring,Magnets,PS Status Check</path>
		      <description>BBA PS running</description>
		      <latching>true</latching>
		    </alarmConf>
		    <processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
		      <input><links>ACS:PSBBA_S.01:status</links></input>
		      <precision>0.01</precision>
		      <default>
			<severity>NO_ALARM</severity>
			<status>NO_ALARM</status>
		      </default>
		      <lowerAlarm>
			<limit>-1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>LOLO_ALARM</status>
		      </lowerAlarm>
		      <lowerWarning>
			<limit>-1</limit>
			<severity>MINOR_ALARM</severity>
			<status>LOW_ALARM</status>
		      </lowerWarning>
		      <upperWarning>
			<limit>1</limit>
			<severity>MINOR_ALARM</severity>
			<status>HIGH_ALARM</status>
		      </upperWarning>
		      <upperAlarm>
			<limit>1</limit>
			<severity>MAJOR_ALARM</severity>
			<status>HIHI_ALARM</status>
		      </upperAlarm>
		      <gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
		    </processor>
		  </record>
		</group>

		<group name="Timing">
			<group name="Timing_template" template="true">
				<record>
					<name>${pv}:Alarm</name>
					<type>DBR_BYTE</type>
					<alarmConf>
						<path>${acc},Timing</path>
						<description>${desc}</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueLevelAlarmProcessor">
						<input><links>${pv}</links></input>
						<precision>0.01</precision>
						<default>
							<severity>NO_ALARM</severity>
							<status>NO_ALARM</status>
						</default>
						<lowerAlarm>
							<limit>${la}</limit>
							<severity>MAJOR_ALARM</severity>
							<status>LOLO_ALARM</status>
						</lowerAlarm>
						<lowerWarning>
							<limit>${lw}</limit>
							<severity>MINOR_ALARM</severity>
							<status>LOW_ALARM</status>
						</lowerWarning>
						<upperWarning>
							<limit>${uw}</limit>
							<severity>MINOR_ALARM</severity>
							<status>HIGH_ALARM</status>
						</upperWarning>
						<upperAlarm>
							<limit>${ua}</limit>
							<severity>MAJOR_ALARM</severity>
							<status>HIHI_ALARM</status>
						</upperAlarm>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>${opmode}</mask></gate>
					</processor>
				</record>
			</group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>A:BO:FuncGen:01:FreqGet</pv><lw>10099.0</lw><uw>10101.0</uw><la>9000.0</la><ua>11000.0</ua><desc>Booster ramping missmatch</desc><opmode>0b001111</opmode></substitutions><insert>Timing_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>A:BO:FuncGen:01:BurstNCycGet</pv><lw>9000.0</lw><uw>9002.0</uw><la>9000.0</la><ua>9002.0</ua><desc>Booster ramping pulses missmatch</desc><opmode>0b001111</opmode></substitutions><insert>Timing_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>A:BO:FuncGen:03:PtoPGet</pv><lw>4.20</lw><uw>4.30</uw><la>4.20</la><ua>4.30</ua><desc>Booster bump aplitude missmatch</desc><opmode>0b001111</opmode></substitutions><insert>Timing_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>A:BO:FuncGen:03:OffsetGet</pv><lw>2.0</lw><uw>2.20</uw><la>2.0</la><ua>2.20</ua><desc>Booster bump offset missmatch</desc><opmode>0b001111</opmode></substitutions><insert>Timing_template</insert></group>
			<group><substitutions><acc>Booster</acc><sector>BO</sector><pv>A:BO:FuncGen:03:FreqGet</pv><lw>1.9</lw><uw>2.1</uw><la>1.9</la><ua>2.1</ua><desc>Booster bump ramping frequency missmatch</desc><opmode>0b001111</opmode></substitutions><insert>Timing_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR</sector><pv>A:SR:FuncGen:01:FreqGet</pv><lw>179.0</lw><uw>181.0</uw><la>170.0</la><ua>190.0</ua><desc>Storagering ramping missmatch</desc><opmode>0b001111</opmode></substitutions><insert>Timing_template</insert></group>
			<group><substitutions><acc>Storage Ring</acc><sector>SR</sector><pv>A:SR:FuncGen:01:BurstNCycSet</pv><lw>49499.0</lw><uw>49501.0</uw><la>10000.0</la><ua>49501.0</ua><desc>Storagering ramping pulses missmatch</desc><opmode>0b000011</opmode></substitutions><insert>Timing_template</insert></group>
		</group>


		<group name="Machine" path="A:GL:Machine:01:">
		
			<record>
				<name>OC:Running</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Operation</path>
					<description>OrbitCorrection app running</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<trigger>1000</trigger>
					<valueOn>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>MAJOR_ALARM</severity>
						<status>STATE_ALARM</status>
					</valueOff>
					<monitor>
						<fails>5</fails>
						<resetValue>0</resetValue>
					</monitor>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>OC:AutoMode</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<valueOn>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOff>
				</processor>
			</record>
			<record>
				<name>OC:Correcting</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<valueOn>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOff>
				</processor>
			</record>
			<record>
				<name>FastOC:Running</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Operation</path>
					<description>Fast OC app running</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<trigger>1000</trigger>
					<valueOn>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>MAJOR_ALARM</severity>
						<status>STATE_ALARM</status>
					</valueOff>
					<monitor>
						<fails>5</fails>
						<resetValue>0</resetValue>
					</monitor>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>FastOC:AutoMode</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<valueOn>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOff>
				</processor>
			</record>
			<record>
				<name>FastOC:Correcting</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<valueOn>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOff>
				</processor>
			</record>
			<record>
				<name>SQLArchiver:Running</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Operation</path>
					<description>SQL archiver app running</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<trigger>60000</trigger>
					<valueOn>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>MAJOR_ALARM</severity>
						<status>STATE_ALARM</status>
					</valueOff>
					<monitor>
						<fails>3</fails>
						<resetValue>0</resetValue>
					</monitor>
				</processor>
			</record>
			<record>
				<name>SQLArchiver:ReadError</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Operation</path>
					<description>Value reading is failing!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<trigger>60000</trigger>
					<valueOn>
						<severity>MAJOR_ALARM</severity>
						<status>STATE_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOff>
					<monitor>
						<fails>3</fails>
						<resetValue>1</resetValue>
					</monitor>
				</processor>
			</record>
			<record>
				<name>SQLArchiver:SQLError</name>
				<type>DBR_BYTE</type>
				<count>1</count>
				<alarmConf>
					<path>Network,Operation</path>
					<description>Write to SQL database is failing!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StateWatchdogProcessor">
					<trigger>60000</trigger>
					<valueOn>
						<severity>MAJOR_ALARM</severity>
						<status>STATE_ALARM</status>
					</valueOn>
					<valueOff>
						<severity>NO_ALARM</severity>
						<status>NO_ALARM</status>
					</valueOff>
					<monitor>
						<fails>3</fails>
						<resetValue>1</resetValue>
					</monitor>
				</processor>
			</record>
			<record>
				<name>PVSS2EPICS:Status:ErrorSum</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Network,Operation</path>
					<description>PVSS to EPICS gateway is not working properly!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input><links>A:BO:FS:01:screen:status,A:BO:FS:02:screen:status,A:BO:FS:03:screen:status,A:BO:VacGauge:01:Pressure,A:BO:VacGauge:02:Pressure,A:BO:VacGauge:03:Pressure,A:BO:VacGauge:04:Pressure,A:EL:FS:01:screen:status,A:EL:FS:02:screen:status,A:EL:FS:03:screen:status,A:EL:FS:04:screen:status,A:EL:VacGauge:01:Pressure,A:EL:VacGauge:02:Pressure,A:IL:FS:01:screen:status,A:IL:FS:02:screen:status,A:IL:VacGauge:01:Pressure,A:MI:FS:01:screen:status,A:MI:FS:02:screen:status,A:MI:FS:03:screen:status,A:MI:VacGauge:01:Pressure,A:MI:VacGauge:02:Pressure,A:MI:VacGauge:03:Pressure,A:MI:VacGauge:04:Pressure,A:SR-S1:VacGauge:01:Pressure,A:SR-S1:VacGauge:02:Pressure,A:SR-S2:VacGauge:01:Pressure,A:SR-S2:VacGauge:02:Pressure,A:SR-S2:VacGauge:03:Pressure,A:SR-S2:VacGauge:04:Pressure,A:SR-S3:VacGauge:01:Pressure,A:SR-S3:VacGauge:02:Pressure,A:SR-S4:VacGauge:01:Pressure,A:SR-S4:VacGauge:02:Pressure,A:SR-S4:VacGauge:03:Pressure,A:SR-S4:VacGauge:04:Pressure,A:SR:FS:01:screen:status,A:SR:FS:02:screen:status,A:SR:FS:03:screen:status,A:SR:FS:04:screen:status,A:SR:FS:05:screen:status,A:SR:FS:06:screen:status,A:BO:FS:01:screen:in,A:BO:FS:02:screen:in,A:BO:FS:03:screen:in,A:EL:FS:01:screen:in,A:EL:FS:02:screen:in,A:EL:FS:03:screen:in,A:EL:FS:04:screen:in,A:IL:FS:01:screen:in,A:IL:FS:02:screen:in,A:MI:FS:01:screen:in,A:MI:FS:02:screen:in,A:MI:FS:03:screen:in,A:SR:FS:01:screen:in,A:SR:FS:02:screen:in,A:SR:FS:03:screen:in,A:SR:FS:04:screen:in,A:SR:FS:05:screen:in,A:SR:FS:06:screen:in</links></input>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
				</processor>
			</record>
			<record>
				<name>Orbit:BadReference</name>
				<type>DBR_BYTE</type>
				<alarmConf>
					<path>Network,Operation</path>
					<description>OC Reference Orbit is not same as BBA!</description>
					<latching>true</latching>
				</alarmConf>
				<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
					<input><links>A:SR:Orbit:01:Status:IsReferenceBad</links></input>
					 <maskOn>0b1</maskOn>
					<maskOff>0b0</maskOff>
					<alarmSeverity>MAJOR_ALARM</alarmSeverity>
					<alarmStatus>STATE_ALARM</alarmStatus>
					<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b000111</mask></gate>
				</processor>
			</record>
			
			
		</group>
		
		<group name="Feedback Loops" path="A:">
			<substitutions>
				<!--bbb_dsc>BBB Phase Loop</bbb_dsc-->
				<rftmp_dsc>RF Temp Feedback Loop</rftmp_dsc>
			</substitutions>
			<group name="fl_template" template="true">
				<record>
					<name>${sec}:FeedbackLoop:${nam}-${idx}:Status:ErrorSum:Alarm</name>
					<alarmConf>
						<path>Storage Ring,Status Check</path>
						<description>${dsc} error sum!</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:${sec}:FeedbackLoop:${nam}-${idx}:Status:ErrorSum</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${sec}:FeedbackLoop:${nam}-${idx}:Enabled:Alarm</name>
					<alarmConf>
						<path>Network,Operation</path>
						<description>${dsc} not enabled!</description>
						<latching>true</latching><enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:${sec}:FeedbackLoop:${nam}-${idx}:Enabled</links></input>
						 <maskOn>0b0</maskOn>
						<maskOff>0b1</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>${sec}:FeedbackLoop:${nam}-${idx}:InSync:Alarm</name>
					<alarmConf>
						<path>Network,Operation</path>
						<description>${dsc} not in sync!</description>
						<latching>true</latching><enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:${sec}:FeedbackLoop:${nam}-${idx}:InSync</links></input>
						 <maskOn>0b0</maskOn>
						<maskOff>0b1</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
			</group>
		
			<!-- group><substitutions><sec>SR</sec><nam>BBB</nam><idx>01</idx><dsc>${bbb_dsc}</dsc></substitutions><insert>fl_template</insert></group -->
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>01</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>02</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>03</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>04</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>05</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>06</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>07</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>SR</sec><nam>RFTemp</nam><idx>08</idx><dsc>${rftmp_dsc}</dsc></substitutions><insert>fl_template</insert></group>
			<!-- group><substitutions><sec>ID-S1</sec><nam>SUL15</nam><idx>01</idx><dsc>SCU15 Feedback Loop</dsc></substitutions><insert>fl_template</insert></group-->
			<group><substitutions><sec>ID-S4</sec><nam>Wiggler</nam><idx>01</idx><dsc>NANO 1 Wiggler Feedback Loop</dsc></substitutions><insert>fl_template</insert></group>
			<group><substitutions><sec>ID-S4</sec><nam>Wiggler</nam><idx>02</idx><dsc>NANO 2 Wiggler Feedback Loop</dsc></substitutions><insert>fl_template</insert></group>
			
			<!-- Fehlinger 20160203
			<record>
					<name>ID-S1:FeedbackLoop:SUL15-02:Status:ErrorSum:Alarm</name>
					<alarmConf>
						<path>Storage Ring,Insertion,Status Check</path>
						<description>SCU15 Feedback Loop error sum!</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
						<input><links>A:ID-S1:FeedbackLoop:SUL15-02:Status:ErrorSum</links></input>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>ID-S1:FeedbackLoop:SUL15-02:Enabled:Alarm</name>
					<alarmConf>
						<path>Network,Operation</path>
						<description>SCU15 Feedback Loop not enabled!</description>
						<latching>true</latching><enabled>true</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:ID-S1:FeedbackLoop:SUL15-02:Enabled</links></input>
						 <maskOn>0b0</maskOn>
						<maskOff>0b1</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
				<record>
					<name>ID-S1:FeedbackLoop:SUL15-02:InSync:Alarm</name>
					<alarmConf>
						<path>Network,Operation</path>
						<description>SCU15 Feedback Loop not in sync!</description>
						<latching>true</latching><enabled>false</enabled>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.StatusCheckAlarmProcessor">
						<input><links>A:ID-S1:FeedbackLoop:SUL15-02:InSync</links></input>
						 <maskOn>0b0</maskOn>
						<maskOff>0b1</maskOff>
						<alarmSeverity>MAJOR_ALARM</alarmSeverity>
						<alarmStatus>STATE_ALARM</alarmStatus>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
			-->
			
			
		</group>
		
		<group name="JavaErrorCheck" path="A:GL:ProcessCheck:">
			<group name="java_error_template" template="true">
				<record>
					<name>${jh}-01:JavaErrorCheck</name>
					<count>1</count>
					<alarmConf>
						<path>Network,Java Error</path>
						<description>Java Error appeared on host!</description>
						<latching>true</latching>
					</alarmConf>
				</record>
			</group>
			
			<group><substitutions><jh>ACC-PC-LW07</jh></substitutions><insert>java_error_template</insert></group>
			<group><substitutions><jh>ACC-PC-LW11</jh></substitutions><insert>java_error_template</insert></group>
			<group><substitutions><jh>ACC-PC-LW12</jh></substitutions><insert>java_error_template</insert></group>
			<group><substitutions><jh>ACC-PC-LW15</jh></substitutions><insert>java_error_template</insert></group>
			<group><substitutions><jh>ACC-PC-LW16</jh></substitutions><insert>java_error_template</insert></group>
			<group><substitutions><jh>ACC-PC-LW18</jh></substitutions><insert>java_error_template</insert></group>
			<group><substitutions><jh>ACC-PC-LW19</jh></substitutions><insert>java_error_template</insert></group>
			<group><substitutions><jh>ACC-PC-LW31</jh></substitutions><insert>java_error_template</insert></group>
		</group>
		
		<group name="HostPing" path="A:GL:HostPing:">
			<substitutions><interval>60000</interval></substitutions>
			<group template="true" name="host_ping_template">
				<record>
					<name>${hname}-01:PingOK</name>
					<count>1</count>
					<alarmConf>
						<path>Network,Hosts</path>
						<description>Host name resolution or ping failed</description>
						<latching>true</latching>
						<enabled>${en}</enabled>
						<guidance>
                        	<title>Host Ping Guide</title>
                        	<details>The host ${hname} might be down. Some hosts have functioning web page, check it out.</details>
                    	</guidance>
                    	<display>
                        	<title>Web Page</title>
                        	<details>http://${hname}.anka-acc.kit.edu/index.html</details>
                    	</display>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.HostPingAlarmProcessor">
						<trigger>${interval}</trigger>
						<host>${hname}.anka-acc.kit.edu</host>
					</processor>
				</record>
			</group>
			<group><substitutions><hname>acc-bpm-bb02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-bb03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-bb04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib05</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib06</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib07</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib08</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib09</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib11</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib12</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib13</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib14</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib15</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib16</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib17</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib18</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib19</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib21</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib22</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib23</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib24</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib25</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib26</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib27</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib28</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib29</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib30</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib31</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib33</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib34</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib35</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib36</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib37</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib38</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib39</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib40</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib41</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib42</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib43</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib44</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib45</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib49</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib50</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib51</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib52</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-1g01</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-1s01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-1s02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-1s04</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<!-- <group><substitutions><hname>acc-econ-4s02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-4s03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<group><substitutions><hname>acc-econ-8s01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-8s02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-8s03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-8s04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-8s10</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-8s07</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<!-- group><substitutions><hname>acc-econ-ni4s03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group-->
			<group><substitutions><hname>acc-pc-cass01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-cass02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-cass03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-id01</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw07</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw11</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw12</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw15</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw16</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw18</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw19</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-lw31</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-uioc35</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-uioc36</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-uioc37</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-uioc38</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-uioc55</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-plc-rio01</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<!-- group><substitutions><hname>acc-plc-rio02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group-->
			<group><substitutions><hname>acc-plc-si01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-plc-si02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-plc-si03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-plc-si04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-plc-si05</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-plc-si06</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-plc-si07</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta02</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta05</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta09</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta10</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta11</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta12</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta13</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta14</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta15</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta16</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta17</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta18</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta19</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta20</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta21</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta22</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta23</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta24</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta25</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta26</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta27</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta28</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta29</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-delta30</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ti-evg01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ti-evr01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ti-evr02</hname><en>false</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankaacs</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankako09</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankako21</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankako25</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankako32</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankako40</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankako70</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankapvss2</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankapvssopc</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-main</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-ns-ha</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-ns1</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-ns2</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-serv</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-vm1</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-vm2</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-pi01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-matlab</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-epics01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-epics02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-java01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-java02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-smb01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-web01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasvn</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>ankasr-appcache</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<!-- group><substitutions><hname>ankasr-gateway</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-osc-ag04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-osc-ag05</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-bpm-lib44</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib45</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib46</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib47</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-lib48</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>ankasr-serv2</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>defgw121-0</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>anka-osc-le02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-ps-ets01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-ets02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-ets03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>ankalog</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>ankasr-main2</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-pc-uioc23</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-ni4s01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-econ-ni4s02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-ps-delta01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-osc-le0X</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-bpm-bb01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-ps-elettra01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-ps-elettra02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-1s05</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-pc-ap01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-ap01b</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-pc-mobil01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-plc-si08</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-1s06</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-1s07</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-1s08</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-bpm-lib10</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-bpm-lib20</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-bpm-lib32</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-bpm-bb02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-bb03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-bpm-bb04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-1s03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-osc-ag01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-osc-ag02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-osc-ag03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-spca-tek01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-osc-le01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-ti-sg01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-econ-4s01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-ti-evg02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<!-- <group><substitutions><hname>acc-ti-evr03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group> -->
			<group><substitutions><hname>acc-rf-llrf01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<group><substitutions><hname>acc-rf-llrf02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group>
			<!--group><substitutions><hname>acc-mot-at01</hname><en>true</en></substitutions><insert>host_ping_template</insert></group-->
			<!--group><substitutions><hname>acc-mot-at02</hname><en>true</en></substitutions><insert>host_ping_template</insert></group-->
			<!--group><substitutions><hname>acc-mot-at03</hname><en>true</en></substitutions><insert>host_ping_template</insert></group-->
			<!--group><substitutions><hname>acc-mot-at04</hname><en>true</en></substitutions><insert>host_ping_template</insert></group-->
		</group>
		
		<group name="Alarm Summaries" path="A:GL:AlarmSum:01:">
		
			<record>
				<name>Network:Hosts</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Network,Hosts</alarmPath>
					</input>
				</processor>
			</record>
			
			<record>
				<name>Network:Operation</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Network,Operation</alarmPath>
					</input>
				</processor>
			</record>

			<record>
				<name>Network</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<links>A:GL:AlarmSum:01:Network:Hosts,A:GL:AlarmSum:01:Network:Operation</links>
					</input>
				</processor>
			</record>

			<record>
				<name>Booster:PSDiffCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Booster,Magnets,PS Diff Check</alarmPath>
					</input>
				</processor>
			</record>
			
			<record>
				<name>Booster:PSStatusCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Booster,PS Status Check</alarmPath>
					</input>
				</processor>
			</record>

			<record>
				<name>Booster</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<links>A:GL:AlarmSum:01:Booster:PSDiffCheck,A:GL:AlarmSum:01:Booster:PSStatusCheck</links>
					</input>
				</processor>
			</record>

			<record>
				<name>StorageRing:BPMCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Storage Ring,BPM Check</alarmPath>
						<recursive>true</recursive>
					</input>
				</processor>
			</record>

			<record>
				<name>StorageRing:Insertion</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Storage Ring,Insertion</alarmPath>
						<recursive>true</recursive>
					</input>
				</processor>
			</record>

			<record>
				<name>StorageRing:PSDiffCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Storage Ring,Magnets,PS Diff Check</alarmPath>
					</input>
				</processor>
			</record>
			
			<record>
				<name>StorageRing:PSStatusCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Storage Ring,Magnets,PS Status Check</alarmPath>
					</input>
				</processor>
			</record>

			<record>
				<name>StorageRing:StatusCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Storage Ring,Status Check</alarmPath>
					</input>
				</processor>
			</record>
			
			<record>
				<name>StorageRing</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<links>A:GL:AlarmSum:01:StorageRing:PSDiffCheck,A:GL:AlarmSum:01:StorageRing:PSStatusCheck,A:GL:AlarmSum:01:StorageRing:StatusCheck,A:GL:AlarmSum:01:StorageRing:Insertion,A:GL:AlarmSum:01:StorageRing:BPMCheck</links>
					</input>
				</processor>
			</record>
			

			<record>
				<name>Transfer:Extraction</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Transfer,Extraction</alarmPath>
						<recursive>true</recursive>
					</input>
				</processor>
			</record>

			<record>
				<name>Transfer:Injection</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Transfer,Injection</alarmPath>
						<recursive>true</recursive>
					</input>
				</processor>
			</record>
		
			<record>
				<name>Transfer</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<links>A:GL:AlarmSum:01:Transfer:Extraction,A:GL:AlarmSum:01:Transfer:Injection</links>
					</input>
				</processor>
			</record>

			<record>
				<name>Microtron:PSDiffCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Microtron,Magnets,PS Diff Check</alarmPath>
					</input>
				</processor>
			</record>
			
			<record>
				<name>Microtron:PSStatusCheck</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<alarmPath>Microtron,Magnets,PS Status Check</alarmPath>
					</input>
				</processor>
			</record>
			
			<record>
				<name>Microtron</name>
				<type>DBR_BYTE</type>
				<processor instance="com.kriznar.csshell.epics.server.processor.SummaryAlarmProcessor">
					<input>
						<links>A:GL:AlarmSum:01:Microtron:PSDiffCheck,A:GL:AlarmSum:01:Microtron:PSStatusCheck</links>
					</input>
				</processor>
			</record>
		
		
		</group>
	</server>
	
	
	<server name="Alarms_test">
	
		<substitutions><status_alarm_desc>Device status indicates errors or inconsistencies - check device panel!</status_alarm_desc></substitutions>

		<management>
			<name>A:${host}:${server}</name>
		</management>

		<group name="SR PS Main" path="A:SR:PS:">
		<!-- 
		 !
		 !	Storage Ring Main PS Diff Check
		 !
		 ! -->
		 	<group name="ps_template" template="true">
				<record>
					<name>M${ps}-02:Current:Diff</name>
					<alarmConf>
						<path>Storage Ring,Magnets,PS Diff Check</path>
						<description>PS setpoint/readback mismatch more then ${val}+${prec}A for duration more than ${tw}ms</description>
						<latching>true</latching>
					</alarmConf>
					<processor instance="com.kriznar.csshell.epics.server.processor.ValueDiffAlarmProcessor">
						<device>${path}M${ps}-01</device>
						<time_window>${tw}</time_window>
						<value_window>${val}</value_window>
						<precision>${prec}</precision>
						<gate><link>A:SR:OperationStatus:01:Mode</link><mask>0b001111</mask></gate>
					</processor>
				</record>
		 	</group>
		 	
		 	<group><substitutions><ps>B</ps><acs>BEND</acs><mask>1101101</mask><tw>40000</tw><val>1</val><prec>0.5</prec></substitutions><insert>ps_template</insert></group>
		 	<!-- group><substitutions><ps>Q1</ps><acs>Q1</acs><mask>1101101</mask><tw>40000</tw><val>35</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q2</ps><acs>Q2</acs><mask>1101101</mask><tw>40000</tw><val>15</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q3</ps><acs>Q3</acs><mask>1101101</mask><tw>40000</tw><val>80</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q4</ps><acs>Q4</acs><mask>1101101</mask><tw>40000</tw><val>5</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>Q5</ps><acs>Q5</acs><mask>1101101</mask><tw>40000</tw><val>45</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>SH</ps><acs>SH</acs><mask>1101101</mask><tw>40000</tw><val>5</val><prec>1</prec></substitutions><insert>ps_template</insert></group>
		 	<group><substitutions><ps>SV</ps><acs>SV</acs><mask>1101101</mask><tw>40000</tw><val>10</val><prec>1</prec></substitutions><insert>ps_template</insert></group-->
		
		</group>
	
		
	</server>

</config>
